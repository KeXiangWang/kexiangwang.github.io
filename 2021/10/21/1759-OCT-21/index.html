<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/bitbug_favicon-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/bitbug_favicon-16x16.ico">
  <link rel="mask-icon" href="/images/bitbug_favicon-32x32.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.kexiang.me","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":"mac","style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="This is a &#39;Paper Reading&#39; post for Course ECE1759. The topic is &#39;Distribution&#39;. This paper list is here:  Leslie Lamport, Time, Clocks, and the Ordering of Events in a Distributed System, Communicati">
<meta property="og:type" content="article">
<meta property="og:title" content="1759 &#39;Distribution&#39; OCT-21">
<meta property="og:url" content="https://www.kexiang.me/2021/10/21/1759-OCT-21/index.html">
<meta property="og:site_name" content="kexiang&#39;s blog">
<meta property="og:description" content="This is a &#39;Paper Reading&#39; post for Course ECE1759. The topic is &#39;Distribution&#39;. This paper list is here:  Leslie Lamport, Time, Clocks, and the Ordering of Events in a Distributed System, Communicati">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-21T20:11:15.000Z">
<meta property="article:modified_time" content="2021-10-21T20:11:15.836Z">
<meta property="article:author" content="Kexiang Wang">
<meta property="article:tag" content="Systems">
<meta property="article:tag" content="Paper Reading">
<meta property="article:tag" content="OS">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://www.kexiang.me/2021/10/21/1759-OCT-21/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>1759 'Distribution' OCT-21 | kexiang's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kexiang's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    

  <a href="https://github.com/KeXiangWang" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.kexiang.me/2021/10/21/1759-OCT-21/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-time.jpg">
      <meta itemprop="name" content="Kexiang Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kexiang's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          1759 'Distribution' OCT-21
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-21 16:11:15" itemprop="dateCreated datePublished" datetime="2021-10-21T16:11:15-04:00">2021-10-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/" itemprop="url" rel="index"><span itemprop="name">Academic</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/Paper-Reading/" itemprop="url" rel="index"><span itemprop="name">Paper Reading</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/Paper-Reading/1759/" itemprop="url" rel="index"><span itemprop="name">1759</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2021/10/21/1759-OCT-21/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/10/21/1759-OCT-21/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>8.7k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>8 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>This is a 'Paper Reading' post for Course ECE1759. The topic is 'Distribution'. This paper list is here:</p>
<ul>
<li>Leslie Lamport, Time, Clocks, and the Ordering of Events in a Distributed System, Communications of the ACM 21(7):558-565, July 1978.</li>
<li>D. R. Cheriton and W. Zwaenepoel, The Distributed V Kernel and its Performance for Diskless Workstations, Proceedings of the 9th Symposium on Operating Systems Principles, pp. 129-140, November 1983.</li>
<li>Cary G. Gray and David R. Cheriton, Leases: An Efficient Fault-Tolerant Mechanism for Distributed File Cache Consistency, Proceedings of the Twelfth ACM Symposium on Operating Systems Priciples (SOSP), December 1989, Litchfield Park, AZ, USA.</li>
</ul>
</blockquote>
<h1 id="time-clocks-and-the-ordering-of-events-in-a-distributed-system"><a class="markdownIt-Anchor" href="#time-clocks-and-the-ordering-of-events-in-a-distributed-system"></a> Time, Clocks, and the Ordering of Events in a Distributed System</h1>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<ul>
<li>Lamport Timestamp/Lamport Clock</li>
<li>A distributed algorithm is given <strong>for synchronizing a system of logical clocks which can be used to totally order the events</strong>. The use of the total ordering is illustrated with a method for solving synchronization problems. The algorithm is then specialized <strong>for synchronizing physical clocks</strong>, and <strong>a bound is derived on how far out of synchrony the clocks can become</strong>.</li>
<li>A system is distributed  if the message transmission delay is not negligible compared to the time between events in a single process</li>
<li>The relation  &quot;<strong>happened before</strong>&quot; is therefore only a partial ordering  of the events in the system.</li>
</ul>
<h2 id="core-ideas"><a class="markdownIt-Anchor" href="#core-ideas"></a> Core Ideas</h2>
<h3 id="the-partial-ordering"><a class="markdownIt-Anchor" href="#the-partial-ordering"></a> The Partial Ordering</h3>
<ul>
<li>Computers do not always have a clock and clocks can be inaccurate. --&gt; define the &quot;happened  before&quot; relation without using physical clocks.</li>
<li>Just like we learn in undergraduate courses.</li>
<li>About concurrent: Two events are concurrent if neither can  causally affect the other.</li>
</ul>
<h3 id="logical-clocks"><a class="markdownIt-Anchor" href="#logical-clocks"></a> Logical Clocks</h3>
<ul>
<li>A clock is just a  way of assigning a number to an event, where the number  is thought of as the time at which the event occurred.</li>
<li>May be implemented by counters with no  actual timing mechanism.</li>
<li>Clock Condition. For any events a, b:  if a---&gt; b then C(a) &lt; C(b).
<ul>
<li>C1. If a and b are events in process P~, and a comes  before b, then Ci(a) &lt; Ci(b).</li>
<li>C2. If a is the sending of a message by process Pi  and b is the receipt of that message by process Pi, then  Ci(a) &lt; Ci(b).</li>
</ul>
</li>
<li>Implementation rule of the system of clocks:
<ul>
<li>Each process P~ increments Ci between any  two successive events.</li>
<li>If event a is the sending of a message m  by process P~, then the message m contains a timestamp  Tm= Ci(a). (b) Upon receiving a message m, process  Pi sets Ci greater than or equal to its present value and  greater than Tin.</li>
</ul>
</li>
</ul>
<h3 id="ordering-the-events-totally"><a class="markdownIt-Anchor" href="#ordering-the-events-totally"></a> Ordering the Events Totally</h3>
<ul>
<li>We can use a system of clocks satisfying the Clock Condition to place a total ordering on the set of all  system events.</li>
<li>The total ordering varies. But the partial ordering is uniquely determined by the system of events.</li>
<li>To simplify the implementation of a clock system determined by the system of events, the paper make three assumptions
<ul>
<li>for any two processes Pi and Pj, the messages sent from Pi to Pi are received in the same order as they are sent.</li>
<li>every message is eventually received.</li>
<li>a process can send  messages directly to every other process.</li>
</ul>
</li>
</ul>
<h3 id="anomalous-behavior"><a class="markdownIt-Anchor" href="#anomalous-behavior"></a> Anomalous Behavior</h3>
<ul>
<li>The actual order may be different from the order based on clock systems.</li>
<li>Two possible ways to avoid such anomalous  behavior.
<ul>
<li>Explicitly introduce into the system the necessary information about the ordering</li>
<li>Use physical clocks to eliminate anomalous behavior. construct a system of clocks which satisfies the following condition.
<ul>
<li>Strong Clock Condition. For any events a, b in the set:  if a --&gt; b then C(a} &lt; C(b).</li>
<li>set is some set of &quot;real&quot; events in physical space-time, and let --&gt; be the partial ordering of  events defined by special relativity.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="physical-clocks"><a class="markdownIt-Anchor" href="#physical-clocks"></a> Physical Clocks</h3>
<p>Too abstract</p>
<h2 id="advantages"><a class="markdownIt-Anchor" href="#advantages"></a> Advantages</h2>
<ul>
<li>Meaningful as a ideal algorithm. The timestamp is the base of all the distributed systems.</li>
</ul>
<h2 id="disadvantages"><a class="markdownIt-Anchor" href="#disadvantages"></a> Disadvantages</h2>
<ul>
<li>Not practical: no perfect network, the machine can crash</li>
</ul>
<h2 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> Reference</h2>
<h1 id="the-distributed-v-kernel-and-its-performance-for-diskless-workstations"><a class="markdownIt-Anchor" href="#the-distributed-v-kernel-and-its-performance-for-diskless-workstations"></a> The Distributed V Kernel and its Performance for Diskless Workstations</h1>
<h2 id="introduction-2"><a class="markdownIt-Anchor" href="#introduction-2"></a> Introduction</h2>
<ul>
<li>
<p>Introduce a <strong>message-oriented</strong> kernel that  provides uniform local and network interprocess communication called the distributed V kernel.</p>
</li>
<li>
<p>The system is used in an environment of diskless  workstations connected by a high-speed local network to a set of  file servers. Over a local network</p>
<ul>
<li>Diskless workstations can access remote files with minimal performance penalty.</li>
<li>The V message facility can be used to access remote files at comparable cost to any well-tuned specialized file access protocol.</li>
</ul>
</li>
<li>
<p>Of particular interest are the controversial  aspects of our approach, namely:</p>
<ul>
<li>The use of diskless workstations with all secondary storage provided by backend file servers.</li>
<li>The use of a general purpose network interprocess communication facility (as opposed to special-purpose file access protocols) and, in particular, the use of a Thoth-like interprocess communication mechanism.</li>
</ul>
</li>
<li>
<p>Diskless workstations' advantages:</p>
<ul>
<li>Lower hardware cost per workstation.</li>
<li>Simpler maintenance and economies of scale with shared  file servers.</li>
<li>Little or no memory or processing overhead on the  workstation for file system and disk handling.</li>
<li>Fewer problems with replication, consistency and  distribution of files.</li>
</ul>
</li>
<li>
<p>Diskless workstations' disadvantage: the overhead of the network.</p>
</li>
<li>
<p>The V did not use stream protocol, on the contrary it adopted a synchronous &quot;request-response&quot; model of message-passing and data transfer which does not support application-level  use of streaming.</p>
</li>
</ul>
<h2 id="core-ideas-2"><a class="markdownIt-Anchor" href="#core-ideas-2"></a> Core Ideas</h2>
<h3 id="v-kernel-interprocess-communication"><a class="markdownIt-Anchor" href="#v-kernel-interprocess-communication"></a> V Kernel Interprocess Communication</h3>
<h4 id="primitives"><a class="markdownIt-Anchor" href="#primitives"></a> Primitives</h4>
<ul>
<li>Message exchange of Send, Receive, Reply
<ul>
<li>any number of MoveTo or MoveFrom between message being received and reply being sent.</li>
</ul>
</li>
<li>Primitives
<ul>
<li>Send(message, pid)</li>
<li>pid = Recieve(message)</li>
<li>(pid, count) = ReceiveWithSegment(message, segptr, segsize)</li>
<li>Reply(message, pid)</li>
<li>ReplyWithSegment(message, pid. destptr, segptr, segsize)</li>
<li>MoveFrom(srcpid, desk sre, count)</li>
<li>MoveTo(destpid, desk src, count)</li>
<li>SetPid(Iogicalid. pid, scope)</li>
<li>pid = GetPid(logicalid, scope)</li>
</ul>
</li>
</ul>
<h4 id="discussion"><a class="markdownIt-Anchor" href="#discussion"></a> Discussion</h4>
<ul>
<li>Discussion of synchronous message-passing model
<ul>
<li>Synchronous request-response message communication make it easy to use for programmers.</li>
<li>The distinction between small messages and a separate data transfer facility ties in well with common usage pattern.</li>
<li>Finally, synchronous communication and small, fixed-size messages reduce queuing and buffering problems in the kernel. (large amounts of data  are transferred directly between users' address spaces  without extra copies)</li>
</ul>
</li>
<li>The paper found that the semantics of the primitives  facilitated an efficient distributed implementation. The only  major departure from Thoth was the explicit specification of segments in messages and the addition of the primitives  ReceivettqthSegment and ReplyWithSegment.</li>
</ul>
<h3 id="implementation-issues"><a class="markdownIt-Anchor" href="#implementation-issues"></a> Implementation Issues</h3>
<ul>
<li>Remote operations are implemented directly in the kernel</li>
<li>lnterkernel packets use the &quot;raw&quot; Ethernet data link level. (IP has 20% increase of overhead)</li>
<li>Request-response pattern helps implement reliability with raw ethernet</li>
<li>Mapping from process id to location is aided by a host specification</li>
<li>No per-packet acknowledgements for large data transfers</li>
<li>File page-level transfers require the minimal number of packets</li>
</ul>
<h4 id="process-naming"><a class="markdownIt-Anchor" href="#process-naming"></a> Process Naming</h4>
<ul>
<li>Uses a global (fiat) naming space for specifying processes.
<ul>
<li>Unique within local network</li>
</ul>
</li>
<li>Currently, in the 10 Mb implementation, the top 8 bits of the logical host identifier are the physical network address of the  workstation.</li>
<li>In the 10 Mb implementation, a table maps  logical hosts to network addresses</li>
</ul>
<h4 id="remote-message-implementation"><a class="markdownIt-Anchor" href="#remote-message-implementation"></a> Remote Message implementation</h4>
<ul>
<li>If process is not local uses the NonLocalSend
<ul>
<li>remote machine receives a packet containing the request</li>
<li>remote kernel creates an <em>alien</em> process descriptor to represent the remote sending process as a standard in-kernel descriptor</li>
</ul>
</li>
<li>original sender re-transmits packet after a timeout, T</li>
<li>remote kernel can respond with packet, or a <em>reply-pending</em> packet in the case no descriptors are available.</li>
</ul>
<h4 id="remote-data-transfer"><a class="markdownIt-Anchor" href="#remote-data-transfer"></a> Remote Data Transfer</h4>
<ul>
<li>MoveTo/MoveFrom transmits the data in a sequence of maximally-sized packets to the destination workstation.
<ul>
<li>single ack packet.</li>
</ul>
</li>
<li>MoveTo and MoveFrom, there is no queueing or buffering
<ul>
<li>basically one copy from memory to NIC, then NIC, to destination.</li>
</ul>
</li>
<li>full retransmission since last correctly received packet.</li>
<li>page-level file access request involve intermediate amount of data.</li>
</ul>
<h3 id="remote-segment-access"><a class="markdownIt-Anchor" href="#remote-segment-access"></a> Remote Segment Access</h3>
<ul>
<li>Previous protocol good for small amounts of data, or tens of packets</li>
<li>Larger sized require a better protocol</li>
<li>File access implemented with IO protocol originally developed for Verex kernel
<ul>
<li>For a two-packet (data sized) transfer, it requires 4 network messages.
<ul>
<li>Double of a specialized protocol</li>
</ul>
</li>
</ul>
</li>
<li>Receive/ReplyWithSegment
<ul>
<li>To put request with data.</li>
</ul>
</li>
</ul>
<h2 id="lectures"><a class="markdownIt-Anchor" href="#lectures"></a> Lectures</h2>
<ul>
<li>The system is fast only because its network is fast. (10M)</li>
</ul>
<h2 id="advantages-2"><a class="markdownIt-Anchor" href="#advantages-2"></a> Advantages</h2>
<h2 id="disadvantages-2"><a class="markdownIt-Anchor" href="#disadvantages-2"></a> Disadvantages</h2>
<h2 id="reference-2"><a class="markdownIt-Anchor" href="#reference-2"></a> Reference</h2>
<h1 id="leases-an-efficient-fault-tolerant-mechanism-for-distributed-file-cache-consistency"><a class="markdownIt-Anchor" href="#leases-an-efficient-fault-tolerant-mechanism-for-distributed-file-cache-consistency"></a> Leases: An Efficient Fault-Tolerant Mechanism for Distributed File Cache Consistency</h1>
<h2 id="introduction-3"><a class="markdownIt-Anchor" href="#introduction-3"></a> Introduction</h2>
<ul>
<li>
<p>Leases are proposed as a time-based mechanism that provides efficient consistent access to cached data in distributed systems. Non-Byzantine failures affect performance, not correctness, with their effect minimized by  short leases.</p>
</li>
<li>
<p>Try to solve the problem of ensuring consistency  between the cached data and its primary location of storage.</p>
</li>
<li>
<p>Definition of consistency: By consistent, we mean that the behavior is equivalent to there being only a single (uncached) copy of the data except for the performance benefit of the cache</p>
</li>
</ul>
<h2 id="core-ideas-3"><a class="markdownIt-Anchor" href="#core-ideas-3"></a> Core Ideas</h2>
<h2 id="leases-and-cache-consistency"><a class="markdownIt-Anchor" href="#leases-and-cache-consistency"></a> Leases and Cache Consistency</h2>
<ul>
<li>A cache using leases requires a valid lease on the datum (in addition to holding the datum) before it returns the datum in response to a read, or modifies the datum in response to a write.</li>
<li>Short lease terms have several advantage
<ul>
<li>Minimize the delay resulting from client and server failures.</li>
<li>Minimize the false write-sharing that occurs.</li>
<li>Reduce the storage requirements at the server</li>
</ul>
</li>
<li>Long lease terms have several advantage
<ul>
<li>More efficient both  for the client and server on files that are accessed repeatedly and have relatively little write-sharing.</li>
</ul>
</li>
</ul>
<h2 id="lectures-2"><a class="markdownIt-Anchor" href="#lectures-2"></a> Lectures</h2>
<ul>
<li>Cache:
<ul>
<li>Invalidate VS Update</li>
<li>Write-Through VS Write-Back</li>
</ul>
</li>
<li>High performance: Update &amp; Write-Back</li>
<li>Leases: Invalidate &amp; Write-Through</li>
</ul>
<h2 id="advantages-3"><a class="markdownIt-Anchor" href="#advantages-3"></a> Advantages</h2>
<h2 id="disadvantages-3"><a class="markdownIt-Anchor" href="#disadvantages-3"></a> Disadvantages</h2>
<ul>
<li>Cannot cope with the clock drift problems.</li>
</ul>
<h2 id="reference-3"><a class="markdownIt-Anchor" href="#reference-3"></a> Reference</h2>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Kexiang Wang Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Kexiang Wang
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://www.kexiang.me/2021/10/21/1759-OCT-21/" title="1759 &#39;Distribution&#39; OCT-21">https://www.kexiang.me/2021/10/21/1759-OCT-21/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/KexiangW">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.linkedin.com/in/kexiang-wang-73b6171a0/">
            <span class="icon">
              <i class="fab fa-linkedin-in"></i>
            </span>

            <span class="label">Linkedin</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.zhihu.com/people/wang-ke-xiang-52">
            <span class="icon">
              <i class="fab fa-zhihu"></i>
            </span>

            <span class="label">Zhihu</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Systems/" rel="tag"># Systems</a>
              <a href="/tags/Paper-Reading/" rel="tag"># Paper Reading</a>
              <a href="/tags/OS/" rel="tag"># OS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/10/14/1759-OCT-14/" rel="prev" title="1759 'Virtual Memory and OS/Hardware Interaction' OCT-14">
      <i class="fa fa-chevron-left"></i> 1759 'Virtual Memory and OS/Hardware Interaction' OCT-14
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#time-clocks-and-the-ordering-of-events-in-a-distributed-system"><span class="nav-number">1.</span> <span class="nav-text"> Time, Clocks, and the Ordering of Events in a Distributed System</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction"><span class="nav-number">1.1.</span> <span class="nav-text"> Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#core-ideas"><span class="nav-number">1.2.</span> <span class="nav-text"> Core Ideas</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#the-partial-ordering"><span class="nav-number">1.2.1.</span> <span class="nav-text"> The Partial Ordering</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#logical-clocks"><span class="nav-number">1.2.2.</span> <span class="nav-text"> Logical Clocks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ordering-the-events-totally"><span class="nav-number">1.2.3.</span> <span class="nav-text"> Ordering the Events Totally</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#anomalous-behavior"><span class="nav-number">1.2.4.</span> <span class="nav-text"> Anomalous Behavior</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#physical-clocks"><span class="nav-number">1.2.5.</span> <span class="nav-text"> Physical Clocks</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#advantages"><span class="nav-number">1.3.</span> <span class="nav-text"> Advantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#disadvantages"><span class="nav-number">1.4.</span> <span class="nav-text"> Disadvantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">1.5.</span> <span class="nav-text"> Reference</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#the-distributed-v-kernel-and-its-performance-for-diskless-workstations"><span class="nav-number">2.</span> <span class="nav-text"> The Distributed V Kernel and its Performance for Diskless Workstations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction-2"><span class="nav-number">2.1.</span> <span class="nav-text"> Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#core-ideas-2"><span class="nav-number">2.2.</span> <span class="nav-text"> Core Ideas</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#v-kernel-interprocess-communication"><span class="nav-number">2.2.1.</span> <span class="nav-text"> V Kernel Interprocess Communication</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#primitives"><span class="nav-number">2.2.1.1.</span> <span class="nav-text"> Primitives</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#discussion"><span class="nav-number">2.2.1.2.</span> <span class="nav-text"> Discussion</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#implementation-issues"><span class="nav-number">2.2.2.</span> <span class="nav-text"> Implementation Issues</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#process-naming"><span class="nav-number">2.2.2.1.</span> <span class="nav-text"> Process Naming</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#remote-message-implementation"><span class="nav-number">2.2.2.2.</span> <span class="nav-text"> Remote Message implementation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#remote-data-transfer"><span class="nav-number">2.2.2.3.</span> <span class="nav-text"> Remote Data Transfer</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#remote-segment-access"><span class="nav-number">2.2.3.</span> <span class="nav-text"> Remote Segment Access</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lectures"><span class="nav-number">2.3.</span> <span class="nav-text"> Lectures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#advantages-2"><span class="nav-number">2.4.</span> <span class="nav-text"> Advantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#disadvantages-2"><span class="nav-number">2.5.</span> <span class="nav-text"> Disadvantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference-2"><span class="nav-number">2.6.</span> <span class="nav-text"> Reference</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#leases-an-efficient-fault-tolerant-mechanism-for-distributed-file-cache-consistency"><span class="nav-number">3.</span> <span class="nav-text"> Leases: An Efficient Fault-Tolerant Mechanism for Distributed File Cache Consistency</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction-3"><span class="nav-number">3.1.</span> <span class="nav-text"> Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#core-ideas-3"><span class="nav-number">3.2.</span> <span class="nav-text"> Core Ideas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#leases-and-cache-consistency"><span class="nav-number">3.3.</span> <span class="nav-text"> Leases and Cache Consistency</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lectures-2"><span class="nav-number">3.4.</span> <span class="nav-text"> Lectures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#advantages-3"><span class="nav-number">3.5.</span> <span class="nav-text"> Advantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#disadvantages-3"><span class="nav-number">3.6.</span> <span class="nav-text"> Disadvantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference-3"><span class="nav-number">3.7.</span> <span class="nav-text"> Reference</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Kexiang Wang"
      src="/images/avatar-time.jpg">
  <p class="site-author-name" itemprop="name">Kexiang Wang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/KeXiangWang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;KeXiangWang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/kexiang-wang-73b6171a0/" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;kexiang-wang-73b6171a0&#x2F;" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i>Linkedin</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/wang-ke-xiang-52" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wang-ke-xiang-52" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/KexiangW" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;KexiangW" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ke.wang@hotmail.com" title="E-Mail → mailto:ke.wang@hotmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kexiang Wang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">75k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">1:09</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('/js/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '5F4DdksFXCxgcPFJfYq2raiB-gzGzoHsz',
      appKey     : '36G9n5NWIiCjzVVLQFf5B0QF',
      placeholder: "Any comments are welcomed! Please leave your E-Mail if you want to be contacted!",
      avatar     : 'retro',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
