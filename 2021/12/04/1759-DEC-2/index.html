<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/bitbug_favicon-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/bitbug_favicon-16x16.ico">
  <link rel="mask-icon" href="/images/bitbug_favicon-32x32.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.kexiang.me","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":"mac","style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="This is a &#39;Paper Reading&#39; post for Course ECE1759. The topic is &#39;Big Data&#39;. This paper list is here:  Jeffrey Dean and Sanjay Ghemawat, MapReduce: Simplified Data Processing on Large Clusters, OSDI 2">
<meta property="og:type" content="article">
<meta property="og:title" content="1759 &#39;Big Data&#39; DEC-2">
<meta property="og:url" content="https://www.kexiang.me/2021/12/04/1759-DEC-2/index.html">
<meta property="og:site_name" content="kexiang&#39;s blog">
<meta property="og:description" content="This is a &#39;Paper Reading&#39; post for Course ECE1759. The topic is &#39;Big Data&#39;. This paper list is here:  Jeffrey Dean and Sanjay Ghemawat, MapReduce: Simplified Data Processing on Large Clusters, OSDI 2">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.kexiang.me/images/1759-Dec-2/Techniques-Summary.png">
<meta property="article:published_time" content="2021-12-05T01:57:22.000Z">
<meta property="article:modified_time" content="2021-12-16T20:50:46.609Z">
<meta property="article:author" content="Kexiang Wang">
<meta property="article:tag" content="Systems">
<meta property="article:tag" content="Database">
<meta property="article:tag" content="Paper Reading">
<meta property="article:tag" content="Scalability">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.kexiang.me/images/1759-Dec-2/Techniques-Summary.png">

<link rel="canonical" href="https://www.kexiang.me/2021/12/04/1759-DEC-2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>1759 'Big Data' DEC-2 | kexiang's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kexiang's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    

  <a href="https://github.com/KeXiangWang" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.kexiang.me/2021/12/04/1759-DEC-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-time.jpg">
      <meta itemprop="name" content="Kexiang Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kexiang's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          1759 'Big Data' DEC-2
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-12-04 20:57:22" itemprop="dateCreated datePublished" datetime="2021-12-04T20:57:22-05:00">2021-12-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-12-16 15:50:46" itemprop="dateModified" datetime="2021-12-16T15:50:46-05:00">2021-12-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/" itemprop="url" rel="index"><span itemprop="name">Academic</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/Paper-Reading/" itemprop="url" rel="index"><span itemprop="name">Paper Reading</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Academic/Paper-Reading/1759/" itemprop="url" rel="index"><span itemprop="name">1759</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2021/12/04/1759-DEC-2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/12/04/1759-DEC-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>10k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>9 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>This is a 'Paper Reading' post for Course ECE1759. The topic is 'Big Data'. This paper list is here:</p>
<ul>
<li>Jeffrey Dean and Sanjay Ghemawat, MapReduce: Simplified Data Processing on Large Clusters, OSDI 2004</li>
<li>Giuseppe DeCandia, Deniz Hastorun, Madan Jampani, Gunavardhan Kakulapati, Avinash Lakshman, Alex Pilchin, Swaminathan Sivasubramanian, Peter Vosshall and Werner Vogels, Dynamo: Amazon's Highly Available Key-value Store, SOSP 2007</li>
<li>CLP: Efficient and Scalable Search on Compressed Text Logs. Kirk Rodrigues, Yu Luo, Ding Yuan. In the Proceedings of the 15th USENIX Symposium on Operating Systems Design and Implementation (OSDI'21). July 14--16, 2021. Pages 183--198.</li>
</ul>
</blockquote>
<h1 id="mapreduce-simplified-data-processing-on-large-clusters"><a class="markdownIt-Anchor" href="#mapreduce-simplified-data-processing-on-large-clusters"></a> MapReduce: Simplified Data Processing on Large Clusters</h1>
<h2 id="disadvantages"><a class="markdownIt-Anchor" href="#disadvantages"></a> Disadvantages</h2>
<ul>
<li>Do not handle skew problems</li>
<li>I/O inefficient</li>
<li>Simple semantic(Maybe also an advantage)</li>
</ul>
<h2 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> Reference</h2>
<h1 id="dynamo-amazons-highly-available-key-value-store"><a class="markdownIt-Anchor" href="#dynamo-amazons-highly-available-key-value-store"></a> Dynamo: Amazon's Highly Available Key-value Store</h1>
<h2 id="introduction"><a class="markdownIt-Anchor" href="#introduction"></a> Introduction</h2>
<ul>
<li>2017 SIGOPS 名人堂奖（Hall of Fame Award, HoF）</li>
<li>Core Target: reliability and scalability</li>
<li>Dynamo: a highly available key-value storage system that some of Amazon’s core services use to provide an “always-on” experience.</li>
<li>A milestone paper for NoSQL</li>
<li>Dynamo is used to <strong>manage the state of services</strong> that have very high reliability requirements and need tight control over the tradeoffs between availability, consistency, cost-effectiveness and performance.</li>
<li>Background:
<ul>
<li>There are many services on Amazon’s platform that only need <strong>primary-key access</strong> to a data store.</li>
</ul>
</li>
<li>to achieve scalability and availability:
<ul>
<li>Partition and replication using consistent hashing</li>
</ul>
</li>
<li>System Assumptions and Requirements
<ul>
<li>Query Model:
<ul>
<li>RW with Key</li>
</ul>
</li>
<li>ACID Properties:
<ul>
<li>No ACID</li>
</ul>
</li>
<li>Efficiency
<ul>
<li>Provide tradeoff between efficiency and cost efficiency, availability, and durability guarantees.</li>
</ul>
</li>
<li>Other Assumptions
<ul>
<li>Only internal use, no authentication and authorization.</li>
</ul>
</li>
</ul>
</li>
<li>Service Level Agreements
<ul>
<li>a formally negotiated contract where a client and a service agree on several system-related characteristics, which most prominently include <strong>the client’s expected request rate distribution</strong> for a particular API and the <strong>expected service latency under those conditions.</strong></li>
</ul>
</li>
<li>common approach for forming a performance  oriented SLA: for forming a performance  oriented SLA
<ul>
<li>At amazon: build a system where all customers  have a good experience, rather than just the majority.</li>
<li>SLAs are expressed and measured at the 99.9th percentile of the distribution.</li>
</ul>
</li>
<li>AP system with eventual consistency</li>
<li>key principles
<ul>
<li>Incremental scalability</li>
<li>Symmetry</li>
<li>Decentralization</li>
<li>Heterogeneity</li>
</ul>
</li>
</ul>
<h2 id="core-ideas"><a class="markdownIt-Anchor" href="#core-ideas"></a> Core Ideas</h2>
<h3 id="system-architecture"><a class="markdownIt-Anchor" href="#system-architecture"></a> SYSTEM ARCHITECTURE</h3>
<ul>
<li>Mainly about partitioning, replication, versioning, membership, failure handling and scaling.</li>
</ul>
<p><img src="/images/1759-Dec-2/Techniques-Summary.png" alt="Techniques Summary" /></p>
<h4 id="system-interface"><a class="markdownIt-Anchor" href="#system-interface"></a> System Interface</h4>
<ul>
<li>get(key)</li>
<li>put(key, context, object)
<ul>
<li>context encodes system metadata about the object that is opaque to the caller and includes information such as  the version of the object.</li>
<li>context is stored along with the object so that the system can verify the validity of the context object supplied in the put request</li>
</ul>
</li>
<li>It applies a MD5 hash on the key to generate a 128-bit identifier, which is used to determine the storage nodes that are responsible for serving the key.</li>
</ul>
<h4 id="partitioning-algorithm"><a class="markdownIt-Anchor" href="#partitioning-algorithm"></a> Partitioning Algorithm</h4>
<ul>
<li>basic consistent hashing algorithm problems:
<ul>
<li>basic consistent hashing algorithm</li>
<li><strong>oblivious to the heterogeneity in the performance of  nodes</strong></li>
</ul>
</li>
<li>Dynamo uses the concept of “virtual nodes” to solve the problems, Advantages:
<ul>
<li>If a node becomes unavailable (due to failures or routine maintenance), the load handled by this node is evenly dispersed across the remaining available nodes.</li>
<li>When a node becomes available again, or a new node is added to the system, the newly available node accepts a roughly equivalent amount of load from each of the other available nodes.</li>
<li><strong>The number of virtual nodes that a node is responsible can decided based on its capacity</strong>, accounting for heterogeneity in the physical infrastructure.</li>
</ul>
</li>
</ul>
<h4 id="replication"><a class="markdownIt-Anchor" href="#replication"></a> Replication</h4>
<ul>
<li>Each data item is replicated at N hosts, where N is a parameter configured “per-instance”.</li>
<li>Each key, k, is  assigned to a coordinator node.</li>
<li>The coordinator is <strong>in charge of the replication of the data items that fall within its range</strong>.</li>
<li>In addition to locally storing each key within its range, the coordinator <strong>replicates these keys at the N-1 clockwise successor nodes in the ring</strong>.</li>
<li>The list of nodes that is responsible for storing a particular key is  called the <strong>preference list</strong>. (contains only distinct physical nodes)</li>
<li>To account for node failures, preference list contains more than N nodes</li>
</ul>
<h4 id="data-versioning"><a class="markdownIt-Anchor" href="#data-versioning"></a> Data Versioning</h4>
<ul>
<li>Some applications can tolerate reading stale data on the nodes(inconsistencies due to certain failures), e.g. “Add to Cart” can never be forgotten or rejected.
<ul>
<li>Modification then happen on the stale version data and the divergent versions are reconciled later.</li>
</ul>
</li>
<li>Dynamo treats the result of each modification as a new and immutable version of the data. It <strong>allows for multiple versions of an object to be present in the system at the same time</strong>.
<ul>
<li>when the versions of one objects have conflict and the <strong>Dynamo system cannot reconcile them</strong>, <strong>the client must perform the reconciliation</strong> in order to collapse multiple  branches of data evolution back into one (semantic  reconciliation).</li>
</ul>
</li>
<li><strong>This requires us to design applications that explicitly acknowledge the possibility of multiple versions of the same data (in order to never lose any updates).</strong></li>
<li>In Dynamo, when a client wishes to update an object, it must  <strong>specify which version</strong> it is updating. This is done by <strong>passing the context it obtained from an earlier read operation</strong>, which <strong>contains  the vector clock</strong> information.</li>
<li>Upon processing a read request, if Dynamo has access to multiple branches that cannot be syntactically reconciled, it will return all the objects at the leaves, with the corresponding version information in the context. An update using this context is considered to have reconciled the divergent versions and the branches are collapsed into a single new version.</li>
<li>A possible issue
<ul>
<li>the size of vector  clocks may grow if many servers coordinate the writes to an object.</li>
<li>to limit the size of vector clock, along with each (node, counter) pair, Dynamo <strong>stores a timestamp  that indicates the last time the node updated the data item</strong>.
<ul>
<li>When  the number of (node, counter) pairs in the vector clock reaches a  threshold (say 10), the oldest pair is removed from the clock.</li>
<li>May be a problem in reconciliation, but never surfaced in production.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="execution-of-get-and-put-operations"><a class="markdownIt-Anchor" href="#execution-of-get-and-put-operations"></a> Execution of get () and put () operations</h4>
<ul>
<li>Any storage node in Dynamo is eligible to receive client get and  put operations for any key.</li>
<li>two strategies that a client can use to select a node
<ul>
<li>Use a load balancer
<ul>
<li>do not introduce dynamo code into client</li>
</ul>
</li>
<li>use a partition-aware client  library to route
<ul>
<li>Avoid one hop</li>
</ul>
</li>
</ul>
</li>
<li>If through a load  balancer requests may be routed to any random node in the ring, if the node is not one of the Top N in preference list, then forward the requests to the first of the Top N.</li>
<li>To maintain consistency among its replicas, Dynamo use a Quorum protocol. (R + W &gt; N)</li>
<li>Upon put(), the coordinator generates the vector clock for the new version and writes the new version  locally, then send the  new version (along with the new vector clock) to the N highest-ranked reachable nodes. If at least W-1 nodes respond then the write is considered successful.</li>
<li>Upon get(), the coordinator fetch versions from the N highest-ranked reachable nodes in the preference list, and then waits for R responses before returning. If the coordinator receives multiple versions of the data, it returns all the versions it deems to be causally unrelated. The divergent versions are then reconciled and the reconciled version superseding the current versions is written back.</li>
</ul>
<h4 id="handling-failures-hinted-handoff"><a class="markdownIt-Anchor" href="#handling-failures-hinted-handoff"></a> Handling Failures: Hinted Handoff</h4>
<ul>
<li>To improve availability, uses a “sloppy quorum”.
<ul>
<li>all read and write operations are performed on the <strong>first N healthy nodes</strong> from the preference list, which may not always be the <strong>first N nodes</strong> encountered while walking the consistent hashing ring.</li>
</ul>
</li>
<li>When the broke node resume, the extra node will send back to the resumed node and then delete the data locally.</li>
<li>Applications that need the highest level of availability can set W to 1
<ul>
<li>in practice, most Amazon  services in production set a higher W to meet the desired level of durability.</li>
</ul>
</li>
<li>To handle data center failures, Dynamo is configured such that  each object is replicated across multiple data centers.</li>
</ul>
<h4 id="handling-permanent-failures-replica-synchronization"><a class="markdownIt-Anchor" href="#handling-permanent-failures-replica-synchronization"></a> Handling permanent failures: Replica  synchronization</h4>
<ul>
<li>To detect the inconsistencies between replicas faster and to minimize the amount of transferred data, Dynamo uses Merkle trees.</li>
</ul>
<h4 id="membership-and-failure-detection"><a class="markdownIt-Anchor" href="#membership-and-failure-detection"></a> Membership and Failure Detection</h4>
<ul>
<li>An administrator uses a command line tool or a browser to connect to a Dynamo node and issue a membership change to join a node to a ring or remove a node from a ring.</li>
<li>A gossip-based protocol propagates membership changes and maintains an eventually consistent view of membership.</li>
<li>partitioning and placement information also propagates via the gossip-based protocol along with membership changes and each storage node is aware of the token ranges handled by its peers.</li>
<li>some fully functional Dynamo nodes play the role of seeds to reconcile the membership.</li>
<li>node A may consider node B failed if node B does not respond to node A’s messages (even if B is responsive to node C's messages).</li>
<li>To avoid fluctuation, when A consider B fail, A will use other nodes to serve and periodically retry to check B's recovery.</li>
<li>The old nodes will transfer the corresponding data(originally handled by the old nodes, now by the new node) to the new nodes.
<ul>
<li>By a confirmation between the source and destination, Dynamo avoid duplication.</li>
</ul>
</li>
</ul>
<h3 id="implementation"><a class="markdownIt-Anchor" href="#implementation"></a> IMPLEMENTATION</h3>
<ul>
<li>three main software components:
<ul>
<li>request coordination, membership and failure detection, and a local persistence engine</li>
</ul>
</li>
<li>Pluggable engines that are in use are Berkeley Database (BDB) Transactional Data Store, BDB Java Edition, MySQL, and an in-memory buffer with persistent backing store.</li>
<li>The majority of Dynamo’s production instances use BDB  Transactional Data Store.</li>
<li>read repair</li>
<li>Always Top1 of the preference list leads to unevenness
<ul>
<li>To avoid unevenness, the coordinator for a write is chosen to be the node that <strong>replied fastest to the previous read  operation</strong> which is stored in the context information of the  request.</li>
<li>Thus increasing the chances of getting “read-your-writes” consistency.</li>
<li><strong>reduces variability</strong> in the performance of the request  handling which improves the performance at the 99.9 percentile.</li>
</ul>
</li>
</ul>
<h3 id="experiences-lessons-learned"><a class="markdownIt-Anchor" href="#experiences-lessons-learned"></a> EXPERIENCES &amp; LESSONS LEARNED</h3>
<ul>
<li>The Dynamo instances differ by their version reconciliation logic, and read/write quorum characteristics. main patterns:
<ul>
<li>Business logic specific reconciliation
<ul>
<li>merging different versions of a customer’s shopping cart</li>
</ul>
</li>
<li>Timestamp based reconciliation
<ul>
<li>last write wins</li>
</ul>
</li>
<li>High performance read engine
<ul>
<li>Mostly it is to be “always writeable”, but some in contrast have few write and high read rate. Then R is set to be 1 and W to be N and replication is increased.</li>
<li>Some of these instances function as the authoritative persistence cache for data stored in more heavy weight backing stores.</li>
</ul>
</li>
</ul>
</li>
<li>The common (N,R,W) configuration used by several instances of Dynamo is (3,2,2).</li>
</ul>
<h4 id="balancing-performance-and-durability"><a class="markdownIt-Anchor" href="#balancing-performance-and-durability"></a> Balancing Performance and Durability</h4>
<ul>
<li>A typical SLA required of services that use Dynamo is that 99.9% of the read and write requests execute within 300ms</li>
<li>commodity hardware components: far less I/O throughput</li>
<li>Dynamo’s partitioning scheme has  evolved over time and its implications on load distribution:
<ul>
<li>Strategy 1: T random tokens per node and partition by token value</li>
<li>Strategy 2: T random tokens per node and equal sized partitions</li>
<li>Strategy 3: Q/S tokens per node, equal-sized partitions</li>
</ul>
</li>
</ul>
<h2 id="advantages"><a class="markdownIt-Anchor" href="#advantages"></a> Advantages</h2>
<h2 id="disadvantages-2"><a class="markdownIt-Anchor" href="#disadvantages-2"></a> Disadvantages</h2>
<h2 id="reference-2"><a class="markdownIt-Anchor" href="#reference-2"></a> Reference</h2>
<h1 id="clp-efficient-and-scalable-search-on-compressed-text-logs"><a class="markdownIt-Anchor" href="#clp-efficient-and-scalable-search-on-compressed-text-logs"></a> CLP: Efficient and Scalable Search on Compressed Text Logs</h1>
<p>Refer to <a href="https://www.kexiang.me/2021/11/30/clp-efficient-and-scalable-search-on-compressed-text-logs/">https://www.kexiang.me/2021/11/30/clp-efficient-and-scalable-search-on-compressed-text-logs/</a></p>
<h1 id="lectures"><a class="markdownIt-Anchor" href="#lectures"></a> Lectures</h1>
<p>CLP Target(Competitors, tatolly evaluated as 100B)：</p>
<ul>
<li>ElasticSearch</li>
<li>Splunk</li>
<li>Datadog</li>
<li>New Relic</li>
</ul>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Kexiang Wang Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Kexiang Wang
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://www.kexiang.me/2021/12/04/1759-DEC-2/" title="1759 &#39;Big Data&#39; DEC-2">https://www.kexiang.me/2021/12/04/1759-DEC-2/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/KexiangW">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.linkedin.com/in/kexiang-wang-73b6171a0/">
            <span class="icon">
              <i class="fab fa-linkedin-in"></i>
            </span>

            <span class="label">Linkedin</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://www.zhihu.com/people/wang-ke-xiang-52">
            <span class="icon">
              <i class="fab fa-zhihu"></i>
            </span>

            <span class="label">Zhihu</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Systems/" rel="tag"># Systems</a>
              <a href="/tags/Database/" rel="tag"># Database</a>
              <a href="/tags/Paper-Reading/" rel="tag"># Paper Reading</a>
              <a href="/tags/Scalability/" rel="tag"># Scalability</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/11/30/1759-NOV-25/" rel="prev" title="1759 'Bugs' NOV-25">
      <i class="fa fa-chevron-left"></i> 1759 'Bugs' NOV-25
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/12/16/hailstorm-disaggregated-compute-and-storage-for-distributed-lsm-based-databases/" rel="next" title="Hailstorm: Disaggregated Compute and Storage for Distributed LSM-based Databases">
      Hailstorm: Disaggregated Compute and Storage for Distributed LSM-based Databases <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#mapreduce-simplified-data-processing-on-large-clusters"><span class="nav-number">1.</span> <span class="nav-text"> MapReduce: Simplified Data Processing on Large Clusters</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#disadvantages"><span class="nav-number">1.1.</span> <span class="nav-text"> Disadvantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference"><span class="nav-number">1.2.</span> <span class="nav-text"> Reference</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dynamo-amazons-highly-available-key-value-store"><span class="nav-number">2.</span> <span class="nav-text"> Dynamo: Amazon&#39;s Highly Available Key-value Store</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#introduction"><span class="nav-number">2.1.</span> <span class="nav-text"> Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#core-ideas"><span class="nav-number">2.2.</span> <span class="nav-text"> Core Ideas</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#system-architecture"><span class="nav-number">2.2.1.</span> <span class="nav-text"> SYSTEM ARCHITECTURE</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#system-interface"><span class="nav-number">2.2.1.1.</span> <span class="nav-text"> System Interface</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#partitioning-algorithm"><span class="nav-number">2.2.1.2.</span> <span class="nav-text"> Partitioning Algorithm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#replication"><span class="nav-number">2.2.1.3.</span> <span class="nav-text"> Replication</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#data-versioning"><span class="nav-number">2.2.1.4.</span> <span class="nav-text"> Data Versioning</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#execution-of-get-and-put-operations"><span class="nav-number">2.2.1.5.</span> <span class="nav-text"> Execution of get () and put () operations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#handling-failures-hinted-handoff"><span class="nav-number">2.2.1.6.</span> <span class="nav-text"> Handling Failures: Hinted Handoff</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#handling-permanent-failures-replica-synchronization"><span class="nav-number">2.2.1.7.</span> <span class="nav-text"> Handling permanent failures: Replica  synchronization</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#membership-and-failure-detection"><span class="nav-number">2.2.1.8.</span> <span class="nav-text"> Membership and Failure Detection</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#implementation"><span class="nav-number">2.2.2.</span> <span class="nav-text"> IMPLEMENTATION</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#experiences-lessons-learned"><span class="nav-number">2.2.3.</span> <span class="nav-text"> EXPERIENCES &amp; LESSONS LEARNED</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#balancing-performance-and-durability"><span class="nav-number">2.2.3.1.</span> <span class="nav-text"> Balancing Performance and Durability</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#advantages"><span class="nav-number">2.3.</span> <span class="nav-text"> Advantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#disadvantages-2"><span class="nav-number">2.4.</span> <span class="nav-text"> Disadvantages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reference-2"><span class="nav-number">2.5.</span> <span class="nav-text"> Reference</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#clp-efficient-and-scalable-search-on-compressed-text-logs"><span class="nav-number">3.</span> <span class="nav-text"> CLP: Efficient and Scalable Search on Compressed Text Logs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lectures"><span class="nav-number">4.</span> <span class="nav-text"> Lectures</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Kexiang Wang"
      src="/images/avatar-time.jpg">
  <p class="site-author-name" itemprop="name">Kexiang Wang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/KeXiangWang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;KeXiangWang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/kexiang-wang-73b6171a0/" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;kexiang-wang-73b6171a0&#x2F;" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i>Linkedin</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/wang-ke-xiang-52" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wang-ke-xiang-52" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/KexiangW" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;KexiangW" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ke.wang@hotmail.com" title="E-Mail → mailto:ke.wang@hotmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kexiang Wang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">Symbols count total: </span>
    <span title="Symbols count total">152k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">Reading time total &asymp;</span>
    <span title="Reading time total">2:18</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('/js/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '5F4DdksFXCxgcPFJfYq2raiB-gzGzoHsz',
      appKey     : '36G9n5NWIiCjzVVLQFf5B0QF',
      placeholder: "Any comments are welcomed! Please leave your E-Mail if you want to be contacted!",
      avatar     : 'retro',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
